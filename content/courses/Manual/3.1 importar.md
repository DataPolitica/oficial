---
title: Importar, convertir y exportar data
linktitle: Importar, convertir y exportar data
toc: true
type: docs
date: "2019-05-05T00:00:00+01:00"
draft: false
menu:
  example:
    parent: 3. Consiguiendo y preparando la data
    weight: 1

# Prev/next pager order (if `docs_section_pager` enabled in `params.toml`)
weight: 3
---

Lo primero que tenemos que tener en claro en el proceso de manejo de bases de datos son tres cosas:

- Importar: Traer una base de datos de la nube o de nuestra computadora (local) hacia nuestro entorno de trabajo.
- Convertir: Cambiar el formato de una base de datos que tenemos en nuestro entorno de trabajo.
- Exportar: Guardar una base de datos que hemos trabajado como un nuevo archivo. 

Para ello, vamos a hacer uso del paquete `rio`, el cual es un conjunto de funciones que nos permiten realizar estas tres operaciones de una manera sencilla y rápida. Lo importante de este paquete a comparación de otros es que optimiza el proceso de importación/exportación de datos requiriendo una menor cantidad de código que otros paquetes. 

Puedes leer más sobre el paquete `rio` haciendo click a [este enlace](https://www.rdocumentation.org/packages/rio/versions/0.5.16).

Para utilizar este paquete debemos instalarlo y luego abrirlo.

    install.packages("rio")
    library(rio)

## Importar una base de datos desde nuestra computadora

Una vez ya tengamos nuestro directorio de trabajo establecido, lo siguiente es abrir una base de datos. Imaginemos que en nuestro directorio de trabajo tenemos una base llamada trabajadores.sav

Lo que queremos hacer es abrir la data en el R. Para ello, lo único que tenemos que hacer es utilizar la función `import`:

    data=import("trabajadores.sav")

Lo que le estamos diciendo al programa es que importe la data *trabajadores.sav* y que le de el nombre de *data*.

{{% alert note %}}
Recuerda que para escribirlo de esa manera el archivo(base de datos) ya debe encontrarse en tu carpeta de trabajo. Si lo tienes en alguna otra parte de tu computadora puedes escribir el enlace, como por ejemplo: C:/Mis documentos/Clase R/trabajadores.sav.
{{% /alert %}}

## Importar una base de datos desde la nube (GITHUB)

En el apartado anterior habíamos revisado las ventajas de trabajar con repositorios en la nube. Por ello, también podemos importar datos a nuestro entorno de trabajo que no se encuentren en nuestro disco duro local sino alojado en una plataforma en la nube (como GitHub).

Lo primero que tenemos que hacer es conseguir el link de la data. Para ello, debemos ir al repositorio donde está alojada la data, darle click al archivo que deseamos utilizamos y luego ubicar el botón que dice "Descargar". 

![Image](/cursos/3-1-2.jpg)

Nosotros no vamos a presionar este botón (porque lo que haríamos sería descargar el archivo en nuestra computadora), sino que le vamos a dar click derecho y vamos a presionar "copiar dirección de enlace". En el ejemplo de la imagen el enlace que copiamos es:

**https://github.com/DataPolitica/salidas/raw/master/Data/trabajadores.sav**

Luego de ello, ya en nuestro R, vamos a crear un objeto que se llame *link* y que sea equivalente a esa dirección. 

    link="https://github.com/DataPolitica/salidas/raw/master/Data/trabajadores.sav"

Luego, utilizaremos la función `import` para traer la data de la nube y le llamaremos *trabajadores*.

    trabajadores=import(link)

Finalmente, podemos ver que en nuestro apartado de objetos (cuadrante superior derecho) ya figura la data que hemos importado desde la nube:

![Image](/cursos/3-1-3.jpg)


## Convertir archivos

Hasta este punto quizás los tipos de bases de datos más comunes que hemos visto son de formato Excel (.xls), SPSS (.sav) o los del propio R (.rda). Sin embargo, es muy probable que, a medida que avancemos en el uso del software, nos topemos con archivos de otros formatos. 

Hay un conjunto muy largo de *extensiones*, cada una de estas asociada a un programa en específico. Lo bueno del paquete `rio` es que nos permite convertir un archivo de un formato a otro de forma muy rápida. 

Por ejemplo, si tengo la base de datos de *trabajadores.sav* en mi carpeta de trabajo y deseo convertirla a formato .rda, sólo tengo que escribir el siguiente comando:

    convert("trabajadores.sav", "trabajadores.rda")

Cuando veamos nuestra carpeta vamos a ver que se ha creado una nueva versión de la base de datos pero con la extensión que le hemos indicado. 

Para más detalle sobre extensiones y programas asociados [ver aquí](https://cran.r-project.org/web/packages/rio/vignettes/rio.html#supported_file_formats).

## Exportar archivos

Finalmente, siguiendo la línea de lo comentado líneas arriba, para exportar un archivo que tengamos en nuestra sesión sólo debemos escribir la siguiente línea de comando: 

    export(trabajadores, "trabajadores.csv")

Lo que le estamos diciendo al programa es que guarde la base de datos *trabajadores* (que viene a ser la data que tenemos abierta en nuestra sesión) como un archivo llamado *trabajadores.csv*. Si no deseamos exportar un archivo a .csv podemos indicarle el formato que queremos colcando la extensión respectiva. 

